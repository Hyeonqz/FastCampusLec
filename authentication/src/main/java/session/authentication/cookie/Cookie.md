## Cookie

### HTTP Cookie 동작 원리
HTTP Cookie 는 웹 브라우저와 웹 서버 간에 상태 정보를 유지하기 위한 기술이다.

쿠키는 **서버가 브라우저는 이를 로컬에 저장**하고 필요할 때 마다 서버에 전송하여 사용자 상태 정보를 공유한다.
- 클라이언트 브라우저가 자신의 PC에 저장한다. 그 쿠키를 가진 서버로 데이터를 교환한다
- 즉 데이터를 저장하는 곳이 클라이언트 웹 브라우저 이다. 

쿠키는 HTTP 헤더에 Set-Cookie 와 같은 헤더를 통해 서버에서 클라이언트에 전송된다.

쿠키는 키-값 쌍으로 이루어져 있으며, 이름, 값, 유효 기간, 도메인, 경로 등 정보를 포함한다.

### HTTP Cookie 특징
1) 쿠키는 클라이언트 측에 저장된다. 따라서 서버거 클라이언트의 상태 정보를 확인하려면 쿠키를 클라이언트에서 전송받아야 한다.
2) 쿠키는 유효기간을 가지고 있다. 유효 기간이 지나면 쿠키는 삭제된다.
   - 인증을 위해서 쿠키를 사용하면 보통 세션 기간동안 유지한다
3) 쿠키는 보안 문제가 있을 수 있다. 쿠키에 민감한 정보를 저장하면 안된다.
   - HTTPS 와 같은 보안 프로토콜을 사용하여 암호화 해야한다.
4) 쿠키는 브라우저에서 관리되기 때문에, 브라우저에서 쿠키를 삭제하거나, 다른 브라우저에서 접속하는 경우 쿠키를 공유할 수 없다. 

### Cookie 특성하여 인증하는 방법
1) 사용자가 로그인 페이지 접속시 로그인 정보 입력
2) 서버는 사용자 정보를 검증하고, 인증이 성공하면 사용자의 고유 ID 와 함께 인증 토큰(쿠키)을 생성
3) 서버는 생성된 인증 토큰을 HTTP 응답 헤더에 포함하여 클라이언트에게 전송한다.
4) 클라이언트는 전송받은 인증 토큰을 로컬에 저장한다.
5) 클라이언트는 이후 서버에 요청을 보낼 떄 마다 인증 쿠키를 HTTP 요청 헤더에 포함하여 전송한다.
6) 서버는 전송받은 인증 쿠키를 검증하여, 인증이 성공하면 요청에 대한 응답을 생성한다.